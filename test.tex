\documentclass{article}
\usepackage{luacode}
\usepackage{tikz}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
\usepackage{ucharcat}
\edef\percent{\Uchar`\% 12}

\newcommand{\df}{5}

\begin{document}

\begin{luacode}
  stats = require("stats")
  local result = stats.dChisq(1.0,1)
  --  tex.print(result)
\end{luacode}

\begin{itemize}
\item 
  The value at $w=1.0$ of probability density function of chi-square distribution at df=\df\ is \directlua{tex.print(string.format("\percent.5f",stats.dChisq(1.0,\df)))}, more precisely, \directlua{tex.print(stats.dChisq(1.0,\df))}.
  cf. scipy.stats.chi2(df=\df).pdf() gives $0.0806569081730478$.
\item
The value at $w=1.0$ of cummurative distribution function of chi-square distribution at df=\df\ is \directlua{tex.print(stats.pChisq(1.0,\df))}. cf. scipy.stats.chi2().cdf(df=\df) gives $0.03743422675270361$.
\item
  The quantile at $p=0.5$ of  chi-square distribution at df=\df\ is \directlua{tex.print(stats.qChisq(0.5,\df))}.
  cf. scipy.stats.chi2(df=\df).ppf() gives $4.351460191095526$.

\item
  The value at $w=-1.0$ of probability density function of chi-square distribution at df=\df\ is \directlua{tex.print(stats.dChisq(-1.0,\df))}.
  cf. scipy.stats.chi2(df=\df).pdf() gives $0.0$.
\item
  The value at $w=-1.0$ of cummurative distribution function of chi-square distribution at df=\df\ is \directlua{tex.print(stats.pChisq(-1.0,\df))}.
  cf. scipy.stats.chi2(df=\df).pdf() gives $0.0$.
\item
The quantile at $p=-1.0$ of  chi-square distribution at df=\df\ via \texttt{tex.print(stats.qChisq(-1.0,\df))} gives ``Target Area must be $>$ 0'' compile error.
cf. scipy.stats.chi2(df=\df).ppf() gives nan.
\end{itemize}


Plot with draw-tikzpicture.

\begin{tikzpicture} [xscale = 1, yscale = 1]
  \draw [thick, -stealth](-2,0)--(5,0) node [anchor=north]{$w$};
  \draw [thick, -stealth](0,-0.1)--(0,2) node [anchor=east]{$f$};
  \node [anchor=north west] at (0,0) {O};

  \draw [ domain=0.1:5, samples=200, color=orange] plot(\x, \directlua{tex.print(stats.dChisq(\x, 1))});  % diverges at w=0. One must take care.

  \draw [ domain=0:5, samples=200, color=red] plot(\x, \directlua{tex.print(stats.dChisq(\x, 3))});  % error for negative w.

  \draw [ domain=0:5, samples=200, color=magenta] plot(\x, \directlua{tex.print(stats.dChisq(\x, 5))});  % error for negative w.

  \draw[orange, thick] (3.5,1.5) -- ++(0.5,0) node[right] {df=1};
  \draw[red, thick] (3.5,1) -- ++(0.5,0) node[right] {df=3};
  \draw[magenta, thick] (3.5,0.5) -- ++(0.5,0) node[right] {df=5};  
  
  % ticks
  \node [anchor=north] at (1,0){$1$};
  \node [anchor=north] at (2,0){$2$};  
  \node [anchor=north] at (-1,0){$-1$};           
\end{tikzpicture}

Plot with addplot-axis-tikzpicture does not work.

\begin{tikzpicture}[ 
  declare function={
    cdf0(\x)=\directlua{tex.print(stats.dChisq(\x, 3))});
    cdf1(\x)= or(\x < 0) * (0)   +
            and(\x >= 0) * (1-exp(-\x)); 
  }
  ]
  
  \begin{axis}[
    width=10cm,
    height=6cm,
    title={},
    xlabel={$x$},
    ylabel={$p$},
    axis lines=middle,
    domain=-2:7,
    samples=100,
    xmin=-2, xmax=7,
    ymin=-0.5, ymax=1.2,
    % legend cell align=left,
    legend pos=outer north east,
    legend style={
      at={(1,0)},
      anchor=south west, % south west corner of the fig comes to the point (1,0) in the plot
      draw=none
    }
    ]
    \addplot[thick,blue, domain=-2:7]  {cdf1(x)}; 
    \addlegendentry{plot without stats}
    % \addplot[thick,blue, domain=0:7]  {cdf0(x)}; % does not work
%    \addplot[thick,blue, domain=0:7]{\directlua{tex.print(stats.dChisq(x, 3))})}; % does not work
  \end{axis}
\end{tikzpicture}      


\end{document}